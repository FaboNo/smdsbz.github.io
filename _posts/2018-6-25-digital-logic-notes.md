---
layout: article
title: Digital Logic Notes
---

<!-- more -->

{:toc}

# Key Concepts

## 逻辑代数基础

### 规则

#### 反演规则

**Goal:** $$F \rightarrow \bar{F}$$  

-   需要交换：  
    $$
    \begin{align}
    \cdot &\leftrightarrow + \\
    0 &\leftrightarrow 1 \\
    \text{Original variable} &\leftrightarrow \text{Contravariable} \\
    \end{align}
    $$
-   保持原函数中运算顺序不变

#### 对偶规则

**Goal:** $$F \rightarrow F'$$  

-   需要交换：  
    $$
    \begin{align}
    \cdot &\leftrightarrow + \\
    0 &\leftrightarrow 1 \\
    \end{align}
    $$
-   保持原函数中运算顺序不变

### 最小项与最大项

-   最小项：标准与项
-   最大项：标准或项

$$
\bar{m}_i = M_i \hspace{2em} \text{or} \hspace{2em} m_i = \bar{M}_i
$$

---

## 组合逻辑电路

### 险象

&emsp;&emsp;组合电路中的险象是一种瞬态现象，它表现为在输出端产生不应有的尖脉冲，暂时地破坏正常逻辑关系。  

#### 判断方法

&emsp;&emsp;当某个变量 $$X$$ 同时以原变量和反变量的形式出现在函数表达式中，且在一定条件下该函数表达式可化简成 $$X + \bar{X}$$ 或者 $$X \cdot \bar{X}$$ 的形式时，则与该函数表达式对应的电路在 $$X$$ 发生变化时，可能由于竞争而产生险象。  

#### 消除方法

-   用增加冗余项的方法消除险象 / 代数法
-   用增加冗余项的方法消除险象 / 卡诺图法
    -   若卡诺图上某两个卡诺圈“相切”，则用一个多余的卡诺圈将它们之间的相邻最小项圈起来，与多余卡诺圈对应的与项就是要加入函数表达式中的冗余项。
-   增加惯性延时环节
-   选通法
    -   不必增加器件，利用选通脉冲从时间上加以控制，以避开险象脉冲。

---

## 同步时序逻辑电路设计

### 等效状态和等效类

#### 判断方法

1.  输出相同。
2.  次态属于下列情况之一：
    -   次态相同；
    -   次态交错或为各自的现态；
    -   次态循环或为等效对。

### 状态编码

#### 相邻编码法的状态编码原则

1.  在 **相同输入** 条件下， **具有相同次态的现态** 应尽可能分配相邻的二进制代码；
2.  在 **相邻输入** 条件下， **同一现态的次态** 应尽可能分配相邻的二进制代码；
3.  **输出完全相同的现态** 应尽可能分配相邻的二进制代码。

### 不完全确定同步时序逻辑

#### 最小闭覆盖

-   覆盖：所选相容类集合应包含原始状态表的全部状态。
-   最小：所选相容类集合中相容类个数应最少。
-   闭合：所选相容类集合中的任一相容类，在原始状态表中任一输入条件下产生的次态组合
    应该属于该集合中的某一个相容类。

Example...

```
    Merger Diagram

          A
       ___^___
   ___/  / \  \___
E /     |   |     \ B
  \     |   |     /
   |   /     \   |
    \ |       | /
     \|_______|/
      D       C
```

```
          Close-Coverage Graph

+--------|-------------------|-----------+
|        |      Covered      |  Closed   |
| G.C.C. +---|---|---|---|---|-----|-----+
|        | A | B | C | D | E | x=0 | x=1 |
+--------|---|---|---|---|---|-----|-----+
|  ABC   | A | B | C |   |   | DE  | AB  |
|  ACD   | A |   | C | D |   | CD  | ABC |
|  ADE   | A |   |   | D | E | CD  | ABC |
+--------|---|---|---|---|---|-----|-----+

    ==> {A,B,C}, {A,C,D}, {A,D,E}
```

Or...

```
          Close-Coverage Graph

+--------|-------------------|-----------+
|        |      Covered      |  Closed   |
| G.C.C. +---|---|---|---|---|-----|-----+
|        | A | B | C | D | E | x=0 | x=1 |
+--------|---|---|---|---|---|-----|-----+
|  ABC   | A | B | C |   |   | DE  | AB  |
|  DE    |   |   |   | D | E | C   | BC  |
+--------|---|---|---|---|---|-----|-----+

    ==> {A,B,C}, {D,E}
```

> **Note:**  
> Choose *Greatest Compatible Classes* were to throw into the table wisely.  

---

## 异步时序逻辑电路

-   异步时序逻辑电路中 **没有** 统一的时钟脉冲信号，电路状态的改变是 **外部输入信号变化** 直接作用的结果。

### 脉冲异步时序逻辑电路

> **Note:**  
> - 注意状态跳变与激励函数的时钟沿输入之间的关系。  

### 电平异步时序逻辑电路

#### 二次状态

-   流程表

#### 竞争

&emsp;&emsp;当输入信号变化引起电路中两个或两个以上状态变量发生变化时，由于各反馈回路延迟时间的不同，使状态变量的变化有先有后而导致不同状态相应过程的险象。  

&emsp;&emsp;若竞争的结果最终能够达到预定的稳态，则成为非临界竞争；若竞争的结果可能使电路达到不同的稳态，即状态转移不可预测，则称为临界竞争。  

---

## 组合逻辑电路

### 组合电路特点

1.  电路由 **逻辑门** 电路组成，电路中不包含任何记忆元件；
2.  信号是单向传输的，电路中不存在任何 **反馈** 回路。

---

## 中规模通用集成电路及其应用

### 超前进位二进制并行加法器

-   进位产生函数  
    $$
    G_i = A_i B_i
    $$
-   进位传递函数  
    $$
    P_i = A_i \oplus B_i
    $$
-   进位输出表达式  
    $$
    C_i = P_i C_{i-1} + G_i
    $$

### 译码器与编码器

-   二进制译码器  
    将 $$n$$ 个输入变量变换成 $$2^n$$ 个输出函数，且输出函数与由输入变量构成的最小项具有对应关系的一种多输入组合逻辑电路。  
    > **Analogy:**  
    > Coded to One-Hot.  

-   二进制编码器
-   优先编码器

### 多路选择器和多路分配器

-   多路选择器（MUX）  
    从多路输入中选中一路送至输出端，输出对输入的选择受选择控制变量控制。  
-   多路分配器（DEMUX）  
    输入数据从哪一路输出由选择控制变量决定。  

> **Commonly seen pattern:**  
> - MUX-DEMUX (using same selection): data transfer on bus.  
> - Decoder-MUX: comparer (equality).  

### 集成计数器

-   集成同步计数器
-   集成异步计数器
    -   二-五-十进制加法计数器 74290
        -   $$\text{Q}_\text{D}, \text{Q}_\text{C}, \text{Q}_\text{B}$$ 为模 5 计数器输出，由 $$\text{CP}_\text{B}$$ 控制
        -   $$\text{Q}_\text{A}$$ 为模 2 计数器输出，由 $$\text{CP}_\text{A}$$ 控制

### 5G555

#### 应用

-   多谐振荡器
    -   工作原理
        -   充电： $$R_1 \Rightarrow R_2 \Rightarrow C \Rightarrow \text{GND (dedicate)} \hspace{2em} \text{(all out of chip)}$$
        -   放电： $$C \Rightarrow R_2 \Rightarrow \text{Port No.7 (into chip)} \Rightarrow \text{on-chip Triode} \Rightarrow \text{GND (Port No.1)}$$
        > **Note:**  
        > 关注充 / 放电回路，以便灵活处理如“占空比可调多谐振荡器”等变种。  

    -   输出脉冲信号参数
        -   输出高电平持续时间 $$t_\text{H} \approx 0.7 (R_1 + R_2) C$$
        -   输出低电平持续时间 $$t_\text{L} \approx 0.7 R_2 C$$
        -   矩形波震荡周期 $$T_\text{W} \approx t_\text{H} + t_\text{L} \approx 0.7 (R_1 + 2 R_2) C$$  
            （矩形波震荡频率 $$f = \frac{1}{T_\text{W}}$$）
        -   矩形波占空比 $$Q = \frac{t_\text{H}}{T_\text{W}} \approx \frac{R_1 + R_2}{R_1 + 2 R_2}$$

    （其中， $$R_1$$ 为远地端电阻， $$R_2$$ 为近地端电阻）
-   施密特触发器（反相）
    -   特征结构： $$v_i \sim \text{TH (P6)} \sim \overline{\text{TR}} \text{(P2)}$$
    -   正向阈值电平： $$V_\text{T+} = \frac{2}{3} V_\text{CC}$$
    -   反向阈值电平： $$V_\text{T-} = \frac{1}{3} V_\text{CC}$$
    -   回差电压 / 滞后电压： $$\Delta V_\text{T} = V_\text{T+} - V_\text{T-}$$
-   单稳态触发器
    -   在外来触发脉冲的作用下，电路由稳态翻转到暂稳态，暂稳态是一个不能长久保持的状态，维持一段时间后，电路会自动返回到稳态。暂稳态持续时间长短取决于电路本身的参数。
    -   特征结构（输入低电平有效，输出正脉冲）： $$v_i \sim \overline{\text{TR}} \sim \text{P2}$$
    -   输出脉冲宽度 $$t_\text{W} \approx 1.1 R C$$

### 数模转换器

#### 主要参数

-   分辨率  
    最小模拟量输出与最大模拟量输出之比。  
    $$
    \begin{align}
    \mathrm{Resolution} = \frac{A_\text{LSB}}{A_m} = \frac{A_m / 2^n - 1}{A_m} = \frac{1}{2^n - 1}
    \end{align}
    $$
-   非线性误差  
    在满刻度范围内偏离立项转换特性的最大值。具有理想转换特性的 D/A 转换器，每两个相邻数字量对应的模拟量之差都为 $$A_\text{LSB}$$ 。  
-   绝对精度  
    在输入端加对应满刻度数字量时，输出的额实际值与理想值之差（一般应低于 $$A_\text{LSB}$$ ）。  
-   建立时间  
    从送入数字信号起，到输出模拟量达到稳定值为止所需要的时间。  

### 模数转换器

#### 主要参数

-   分辨率  
    输出数字量变化一个最小单位（最低位的变化），对应输入模拟量需要变化的量。  
-   相对精度  
    实际转换值偏离理想特性的误差。  
-   转换时间  
    A/D 转换器从接到转换命令起到输出稳定的数字量为止所需要的时间。  

---

## 可编程逻辑器件

> **Analogy:**
> - And-Array → Address  
> - Or-Array → Data  

### 可编程 ROM

&emsp;&emsp;与阵列固定，或阵列可编程。  


